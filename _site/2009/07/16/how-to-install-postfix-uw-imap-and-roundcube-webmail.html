<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>How to install Postfix, UW IMAP and RoundCube webmail &laquo; alinux.web.id</title>
	<meta name="author" content="deanet">
	<link href="atom.xml" rel="alternate" title="build system from God's systems" type="application/atom+xml" />
	<link rel="stylesheet" href="/css/site.css" type="text/css" media="screen, projection" />
	<link rel="stylesheet" href="/css/syntax.css" type="text/css" />
	<meta name="viewport" content="width=850" />
	<link rel="stylesheet" media="screen and (max-device-width: 480px)" href="/css/iphone.css" type="text/css" />

<script type="text/javascript" src="http://use.typekit.com/aoe6dic.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

	
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', '']);
	  _gaq.push(['_trackPageview']);
	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	  })();
	</script>

<script type="text/javascript">
        var disqus_awesome = true; 
        var disqus_developer = true;
</script>    
</head>

<body>
<div id="container">
	<div id="header">
		<div id="logo">
	<a class="site" href="/index.html">home</a>
</div>
<div id="navbar">
	<a class="site" href="/atom.xml">rss</a>
</div>

	</div>
	<div id="page">
		<div id="content">
		<div id="post" class="post">
	<span class="title">How to install Postfix, UW IMAP and RoundCube webmail</span><br />
	<span class="date">Jul 16 2009</span><br />
	<span class="content"><p>Sudah lama gak update blog. ok gan, masih dengan topik yang bikin njlimet.. sansaya ruwet.. tambah njlimet.. marahi petheng ndedhet.. terus gremet-gremet &#8230; :Dk <em>demam bhs kaskus</em> :ngacir: .</p>

<p>klik cendol nya gan jangan lupa ..</p>

<p>percobaan ini menggunakan mesin <code>openSUSE 11.0 (i586)</code> via <code>zypper</code>.</p>

<h2 id='requirement'>Requirement:</h2>

<h4 id='id1'><a href='http://numpanglewat.wordpress.com/2009/05/05/installasi-bind-apache2-mysql-php-dan-konfigurasi-dns-serta-virtual-host-di-opensuse/' target='_new'>Apache server &amp; MySQL server</a></h4>

<h2 id='install_zypper'>Install zypper</h2>

<pre><code># yast -i zypper</code></pre>

<h2 id='install_postfix'>Install Postfix</h2>

<h5 id='1_install'>1. Install</h5>

<pre><code># zypper install postfix</code></pre>

<h4 id='2_konfigurasi_'>2. Konfigurasi <code>/etc/postfix/main.cf</code></h4>

<pre><code>soft_bounce = no
queue_directory = /var/spool/postfix
command_directory = /usr/sbin
daemon_directory = /usr/lib/postfix
mail_owner = postfix
default_privs = nobody
inet_interfaces = all
unknown_local_recipient_reject_code = 450
debug_peer_level = 2
debugger_command =
     PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
     xxgdb $daemon_directory/$process_name $process_id &amp; sleep 5
sendmail_path = /usr/sbin/sendmail
newaliases_path = /usr/bin/newaliases
mailq_path = /usr/bin/mailq
setgid_group = maildrop
manpage_directory = /usr/share/man
sample_directory = /usr/share/doc/packages/postfix/samples
readme_directory = /usr/share/doc/packages/postfix/README_FILES
mail_spool_directory = /var/mail
canonical_maps = hash:/etc/postfix/canonical
virtual_maps = hash:/etc/postfix/virtual
relocated_maps = hash:/etc/postfix/relocated
transport_maps = hash:/etc/postfix/transport
sender_canonical_maps = hash:/etc/postfix/sender_canonical
masquerade_exceptions = root
masquerade_classes = envelope_sender, header_sender, header_recipient
program_directory = /usr/lib/postfix
masquerade_domains =
mydestination = $myhostname, localhost.$mydomain
defer_transports =
disable_dns_lookups = no
relayhost =
content_filter =
mailbox_command =
mailbox_transport =
smtpd_sender_restrictions = hash:/etc/postfix/access
smtpd_client_restrictions =
smtpd_helo_required = no
smtpd_helo_restrictions =
strict_rfc821_envelopes = no
mynetworks_style = subnet
smtpd_recipient_restrictions = permit_mynetworks,permit_sasl_authenticated,reject_unauth_destination
#smtpd_recipient_restrictions = permit_sasl_authenticated,reject_unauth_destination
smtp_sasl_auth_enable = no
smtpd_sasl_auth_enable = yes
smtpd_use_tls = no
smtp_use_tls = no
alias_maps = hash:/etc/aliases
mailbox_size_limit = 0
message_size_limit = 10240000
#myhostname = linux.local
#change below information as needed
myhostname = alinux.web.id
mynetworks = 198.99.198.183, 127.0.0.1</code></pre>

<h4 id='3_konfigurasi_etcpostfixvirtual'>3. Konfigurasi /etc/postfix/virtual</h4>

<pre><code>alinux.web.id           virtual
deanet@alinux.web.id    deanet</code></pre>

<h4 id='4_start_postfix_mail_server'>4. Start Postfix Mail Server</h4>

<pre><code># rcpostfix start</code></pre>

<h2 id='install_uw_imap'>Install UW IMAP</h2>

<h4 id='1_install'>1. Install</h4>

<pre><code># zypper install imap imap-lib</code></pre>

<h4 id='2_konfigurasi_imap_di_etcxinetddimap'>2. Konfigurasi imap di /etc/xinetd.d/imap</h4>

<pre><code>#
# imap - pop2 mail daemon
#
service pop2
{
        disable         = yes
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/ipop2d
        flags           = IPv4
}
#
# imap - pop3 mail daemon
#
service pop3
{
        disable         = yes
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/ipop3d
        flags           = IPv4
}
#
# imap - pop3 mail daemon over tls/ssl
#
service pop3s
{
        disable         = yes
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/ipop3d
        flags           = IPv4
}
#
# imap - imap mail daemon
#
service imap
{
        disable         = no
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/imapd
        flags           = IPv4
}
#
# imap - imap mail daemon over tls/ssl
#
service imaps
{
        disable         = yes
        socket_type     = stream
        protocol        = tcp
        wait            = no
        user            = root
        server          = /usr/sbin/imapd
        flags           = IPv4
}</code></pre>

<h4 id='3_add__di_'>3. Add <code>set disable-plaintext nil</code> di <code>/etc/c-client.cf</code></h4>

<pre><code>set rshpath /usr/bin/rsh
set sshpath /usr/bin/ssh
set disable-plaintext nil</code></pre>

<h4 id='4_done'>4. Done</h4>

<p>.</p>

<h2 id='install_roundcube'>Install Roundcube</h2>

<h4 id='1_unduh_roundcube_di_'>1. unduh roundcube di <a href='http://roundcube.net/downloads' target='_new'>http://roundcube.net/downloads</a></h4>

<pre><code># wget http://sourceforge.net/project/downloading.php?group_id=139281&amp;filename=roundcubemail-0.2.2.tar.gz
# tar -xzvf roundcubemail-0.2.2.tar.gz
# cd roundcubemail-0.2.2</code></pre>

<h4 id='2_beri_hak_akses_writeable_all_pada_temp_dan_logs'>2. Beri Hak akses writeable all pada temp dan logs</h4>

<pre><code># chmod 777 temp logs</code></pre>

<h4 id='3_buat_database_roundcube'>3. Buat database roundcube</h4>

<pre><code># mysql -u root -p

mysql&gt; CREATE DATABASE database_roundcubemail;
GRANT ALL PRIVILEGES ON database_roundcubemail.* TO user_sql@localhost IDENTIFIED BY &#39;password_user_mysql&#39;;</code></pre>

<p>simpan lalu keluar</p>

<pre><code>mysql&gt; FLUSH PRIVILEGES;
mysql&gt; quit</code></pre>

<h4 id='4_dumping_data_sql_roundcube'>4. Dumping data SQL roundcube</h4>

<pre><code>mysql&gt; roundcubemail &lt; SQL/mysql.initial.sql</code></pre>

<h4 id='5_konfigurasi_roundcube'>5. Konfigurasi Roundcube</h4>

<pre><code># cp config/db.inc.php.dist config/db.inc.php
# cp config/main.inc.php.dist config/main.inc.php</code></pre>

<p>edit <code>db.inc.php</code></p>

<pre><code># vi db.inc.php</code></pre>

<p>cari bagian dibawah ini dan sesuaikan dengan user mysql yang kita buat tadi</p>

<pre><code>$rcmail_config[&#39;db_dsnw&#39;] = &#39;mysql://user_mysql:password_user_mysql@localhost/database_roundcubemail&#39;;</code></pre>

<p>edit <code>main.inc.php</code></p>

<pre><code>vi main.inc.php</code></pre>

<p>cari bagian dibawah ini dan sesuaikan.</p>

<pre><code>$rcmail_config[&#39;default_host&#39;] = &#39;localhost&#39;;</code></pre>

<p>atau bisa juga dengan multihost (<em>domain mesti kudu point ke web server na</em>)</p>

<pre><code>$rcmail_config[&#39;default_host&#39;] = array(&#39;deanet.co.cc&#39;, &#39;alinux.web.id&#39;);</code></pre>

<h4 id='6_selesai__done'>6. selesai / done.</h4>

<h2 id='troubleshooting'>Troubleshooting</h2>

<pre><code>Server internal Error 500</code></pre>

<p><code>Solusi</code>: set Apache directive</p>
<div class='highlight'><pre>	<span class='nt'>&lt;directory</span> <span class='s'>&quot;/home/deanet/public_html/deanet.co.cc/mail&quot;</span><span class='nt'>&gt;</span>
                <span class='nb'>Options</span> <span class='k'>All</span>
                <span class='nb'>AllowOverride</span> <span class='k'>All</span>
                <span class='nb'>Order</span> allow,deny
                <span class='nb'>Allow</span> from <span class='k'>All</span>
	<span class='nt'>&lt;/directory&gt;</span>
	
</pre>
</div>
<p>Referensi:</p>

<ol>
<li><a href='http://numpanglewat.wordpress.com/2009/05/19/installasi-postfix-saslauthd-vm-pop3d-squirrelmail-opensuse/'>Install postfix via yast</a></li>

<li><a href='http://trac.roundcube.net/wiki/Howto_Install'>How to install RoundCube webmail</a></li>

<li><a href='http://trac.roundcube.net/wiki/Howto_Config'>How to config RoundCube webmail</a></li>

<li><a href='/2009/05/05/installasi-bind-apache2-mysql-php-dan-konfigurasi-dns-serta-virtual-host-di-opensuse/'>How to install and configuring apache2, mysql, bind dns</a></li>
</ol></span>
</div>
<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
      <li><span>Jul 14 2010</span> &raquo; <a href="/2010/07/14/upgrade-clamav-di-debian-etch.html">Upgrade ClamAV di Debian Etch</a></li>
    
      <li><span>Jun 30 2010</span> &raquo; <a href="/2010/06/30/installasi-qmail-vpopmail-clamav-simscan-dengan-spamassasin-di-debian-etch.html">Installasi Qmail, Vpopmail, ClamAV, Simscan, Spamassasin di Debian Etch</a></li>
    
      <li><span>Jun 23 2010</span> &raquo; <a href="/2010/06/23/mengatasi-no-public-key-available-di-apt-debian.html">Mengatasi no public key available di apt debian</a></li>
    
  </ul>
</div>

<h3 id="archive"><a href="/archive.html">Archive</a></h3>
<br/>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /**
    * var disqus_identifier; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
    */
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://buildsystem.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=buildsystem">comments powered by Disqus.</a></noscript>

		</div>
	</div>
	<div id="footer">
		<div id="leftcol">
maintenance and developed by <a href="http://deanet.web.id" target="_new">deanet.web.id</a>
</div>

	</div>
</div>
<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/buildsystem/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>
</body>

</html>
