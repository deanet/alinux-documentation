<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta http-equiv="Content-Language" content="en"/>
    <title>Upgrade ClamAV di Debian Etch dengan backports</title>
    <link rel="stylesheet" href="/style.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="/syntax.css" type="text/css" media="screen"/>
</head>

<script type="text/javascript">
        var disqus_awesome = ; 
        var disqus_developer = ;
</script>    

<body>
    <div class="outercolumn">
        <div class="topbar">
            <a href="/index.html">Home</a> - <a href="/archives/index.html">archive</a>
        </div>

        <div class="column">
            <div class="content">
                

<div class="title">
    Upgrade ClamAV di Debian Etch dengan backports
</div>

<div class="date">
<!--    

    published: 14 Jul 2010,
    in category: <a href="/archives/ClamAVDebianEtchUpgrade.html">ClamAVDebianEtchUpgrade</a>
-->
    in category: 
<a rel="tag" href="/archives/ClamAV.html">ClamAV</a>, 

<a rel="tag" href="/archives/Debian.html">Debian</a>, 

<a rel="tag" href="/archives/Etch.html">Etch</a>, 

<a rel="tag" href="/archives/Upgrade.html">Upgrade</a>, 



</div>

<div class="innercontent">
    <p>Bermula dari ketidakberesan <code>clamdscan</code> membuat <code>simscan</code> tidak berjalan sebagaimana mestinya. Usul usul punya usul ternyata setelah dicek memang benar <code>clamdscan</code> tidak berjalan secara normal.</p>
<div class='highlight'><pre><code class='xml'>denbaguse:/home/deanet# clamdscan mailtest.txt 
connect(): No such file or directory           
WARNING: Can&#39;t connect to clamd.               

----------- SCAN SUMMARY -----------
Infected files: 0                   
Time: 0.001 sec (0 m 0 s)           
denbaguse:/home/deanet#             
</code></pre>
</div>
<p>Setelah dipusingkan dengan beberapa daemon dan proses. Alhasil dicek di configurasi nya <code>/etc/clamav/clamd.conf</code>. Dan stelah dicek beberapa <code>pid</code> ternyata ada yang janggal.</p>
<div class='highlight'><pre><code class='xml'>denbaguse:/home/deanet# ls -al /var/run/clamav/                                                                                   
total 12                                                                                                                          
drwxr-xr-x 2 clamav clamav 4096 2010-06-21 12:15 .                                                                                
drwxr-xr-x 9 root   root   4096 2010-06-19 09:30 ..                                                                               
-rw-rw---- 1 clamav clamav    5 2010-06-21 12:15 freshclam.pid                                                                    
</code></pre>
</div>
<p>Lha??? kemana <code>pid</code> dari <code>clamav-daemon</code> ?</p>

<p>Menyelidiki kasus tersebut</p>
<div class='highlight'><pre><code class='xml'>denbaguse:/home/deanet# dpkg -l clamav                        
Desired=Unknown/Install/Remove/Purge/Hold                     
| Status=Not/Installed/Config-files/Unpacked/Failed-config/Half-installed
|/ Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)
||/ Name                Version             Description                        
+++-===================-===================-======================================================
ii  clamav              0.90.1dfsg-4etch19  antivirus scanner for Unix                            
</code></pre>
</div>
<p>Ternyata versi nya sudah sangat old. tambahkan repository list <code>backports</code>:</p>
<div class='highlight'><pre><code class='xml'>denbaguse:/home/deanet# vim /etc/apt/sources.list
</code></pre>
</div>
<p>Update repo,</p>
<div class='highlight'><pre><code class='xml'>denbaguse:/home/deanet# apt-get update
Get:1 http://backports.mithril-linux.org etch-backports Release.gpg [189B]
Get:2 http://backports.mithril-linux.org etch-backports Release [72.9kB]
Get:3 http://backports.mithril-linux.org etch-backports/main Packages [561kB]
Get:4 http://backports.mithril-linux.org etch-backports/contrib Packages [2631B]
Get:5 http://backports.mithril-linux.org etch-backports/non-free Packages [5785B]
Fetched 643kB in 43s (14.9kB/s)
Reading package lists... Done
denbaguse:/home/deanet#
</code></pre>
</div>
<p>Jalankan untuk upgrade clamAV</p>
<div class='highlight'><pre><code class='xml'>apt-get upgrade clamav clamav-daemon clamav-freshclam
</code></pre>
</div>
<p>Test:</p>
<div class='highlight'><pre><code class='xml'>denbaguse:/home/deanet# clamdscan mailtest.txt
/home/deanet/mailtest.txt: OK

----------- SCAN SUMMARY -----------
Infected files: 0
Time: 0.251 sec (0 m 0 s)
denbaguse:/home/deanet# ls -al /var/run/clamav/
total 16
drwxr-xr-x 2 clamav clamav 4096 2010-06-21 13:21 .
drwxr-xr-x 9 root   root   4096 2010-06-21 13:20 ..
srwxrwxrwx 1 clamav clamav    0 2010-06-21 13:21 clamd.ctl
-rw-rw-r-- 1 clamav clamav    5 2010-06-21 13:21 clamd.pid
-rw-rw-r-- 1 clamav clamav    5 2010-06-21 13:35 freshclam.pid
denbaguse:/home/deanet#
</code></pre>
</div>
<p>semoga membantu :)</p>
</div>



<div id="disqus_thread"></div>

<script type="text/javascript" src="http://disqus.com/forums/buildsystem/embed.js">
</script>

<noscript>
    <p> <a href="http://nebansnotebook.disqus.com/?url=ref">View the discussion thread. </a> </p>
</noscript>



<div class="prevnext">
    
        <div class="prev">
            &laquo; <a href="/2010/06/30/installasi-qmail-vpopmail-clamav-simscan-dengan-spamassasin-di-debian-etch.html"> Installasi Qmail, Vpopmail, ClamAV, Simscan, Spamassasin di Debian Etch </a>
        </div>
    

    
        <div class="next">
            <a href="/2010/07/29/how-to-kill-windows-process-and-integrated-with-nagios-using-nsclient%2B%2B-on-gnu-linux.html"> How to kill windows process and integrated with nagios using Nsclient++ on Gnu/Linux </a> &raquo;
        </div>
    
</div>




            </div>
            
<div class="footer">
   <center>
	<small>alinux.web.id, established since 2007, hosted by <a target="_new" href="http://tor.hu">tor.hu</a>, powered by <a target="_new" href="http://www.vim.org">vim</a> and <a target="_new" href="http://jekyllrb.com">jekyll</a><br/>
<a target="_new" href="https://github.com/deanet/alinux-documentation">source</a>
</small>
	</center>
</div>

            <div class="pageend"></div>
        </div>
    </div>
</body>
</html>

