<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta http-equiv="Content-Language" content="en"/>
    <title>Install KVM Virtualization on Debian Squeeze</title>
    <link rel="stylesheet" href="/style.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="/syntax.css" type="text/css" media="screen"/>
</head>

<script type="text/javascript">
        var disqus_awesome = ; 
        var disqus_developer = ;
</script>    

<body>
    <div class="outercolumn">
        <div class="topbar">
            <a href="/index.html">Home</a> - <a href="/archives/index.html">archive</a>
        </div>

        <div class="column">
            <div class="content">
                

<div class="title">
    Install KVM Virtualization on Debian Squeeze
</div>

<div class="date">
<!--    

    published: 20 Dec 2010,
    in category: <a href="/archives/DebianKVMVirtualization.html">DebianKVMVirtualization</a>
-->
    in category: 
<a rel="tag" href="/archives/Debian.html">Debian</a>, 

<a rel="tag" href="/archives/KVM.html">KVM</a>, 

<a rel="tag" href="/archives/Virtualization.html">Virtualization</a>, 



</div>

<div class="innercontent">
    <h2 id='understanding'>Understanding:</h2>

<p>KVM (for Kernel-based Virtual Machine) is a full virtualization solution for Linux on x86 hardware containing virtualization extensions (Intel VT or AMD-V). It consists of a loadable kernel module, kvm.ko, that provides the core virtualization infrastructure and a processor specific module, kvm-intel.ko or kvm-amd.ko. KVM also requires a modified QEMU although work is underway to get the required changes upstream.</p>

<p>Using KVM, one can run multiple virtual machines running unmodified Linux or Windows images. Each virtual machine has private virtualized hardware: a network card, disk, graphics adapter, etc.</p>

<p>The kernel component of <code>KVM</code> is included in mainline Linux, as of 2.6.20. <br /><br /></p>
<div class='highlight'><pre><code class='bash'>alinux@squeeze:~<span class='nv'>$ </span>uname -a;cat /etc/debian_version 
Linux squeeze 2.6.36-21-DzulQaidah-1431H <span class='c'>#4 SMP Sun Oct 31 06:31:57 WIT 2010 i686 GNU/Linux</span>
squeeze/sid
alinux@squeeze:~<span class='nv'>$ </span>
</code></pre>
</div>
<h2 id='requirements'>Requirements:</h2>

<ol>
<li>qemu-kvm</li>

<li>qemu</li>

<li>xvnc4viewer <br /> <br /></li>
</ol>

<h2 id='installing'>Installing:</h2>

<p>Install by command:</p>
<div class='highlight'><pre><code class='xml'>apt-get install qemu-kvm qemu qemu-gl qemu-system qemu-user qemu-utils xvnc4viewer
</code></pre>
</div>
<h2 id='check'>Check:</h2>

<p>Need to check module of kvm was there or not, as well your Processor.</p>
<div class='highlight'><pre><code class='bash'>alinux@squeeze:~<span class='nv'>$ </span>lsmod | grep kvm
kvm_intel              34767  0 
kvm                   186549  1 kvm_intel
alinux@squeeze:~<span class='nv'>$ </span>egrep <span class='s1'>&#39;^flags.*(vmx|svm)&#39;</span> /proc/cpuinfo
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe nx lm constant_tsc arch_perfmon pebs bts aperfmperf pni dtes64 monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr pdcm lahf_lm ida dts tpr_shadow vnmi flexpriority
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe nx lm constant_tsc arch_perfmon pebs bts aperfmperf pni dtes64 monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr pdcm lahf_lm ida dts tpr_shadow vnmi flexpriority
alinux@squeeze:~<span class='nv'>$ </span>
</code></pre>
</div>
<h2 id='test_with_qemu'>Test with qemu</h2>
<div class='highlight'><pre><code class='bash'>qemu -vnc localhost:5901 -enable-kvm -cdrom /home/ISO/CentOS-5.5-x86_64-bin-DVD-1of2.iso
</code></pre>
</div>
<h2 id='lets_go'>Let&#8217;s go</h2>
<div class='highlight'><pre><code class='bash'>alinux@squeeze:~<span class='nv'>$ </span>sudo netstat -ntlp
Active Internet connections <span class='o'>(</span>only servers<span class='o'>)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      1574/mysqld     
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      1242/lighttpd   
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1254/sshd       
tcp6       0      0 :::80                   :::*                    LISTEN      1242/lighttpd   
tcp6       0      0 :::22                   :::*                    LISTEN      1254/sshd       
tcp6       0      0 ::1:11801               :::*                    LISTEN      3991/qemu       
alinux@squeeze:~<span class='nv'>$ </span>xvncviewer localhost:11801

VNC Viewer Free Edition 4.1.1 <span class='k'>for </span>X - built Mar 10 2010 21:40:13
Copyright <span class='o'>(</span>C<span class='o'>)</span> 2002-2005 RealVNC Ltd.
See http://www.realvnc.com <span class='k'>for </span>information on VNC.

Mon Dec 20 20:00:25 2010
 CConn:       connected to host localhost port 11801
 CConnection: Server supports RFB protocol version 3.8
 CConnection: Using RFB protocol version 3.8
 TXImage:     Using default colormap and visual, TrueColor, depth 24.
 CConn:       Using pixel format depth 6 <span class='o'>(</span>8bpp<span class='o'>)</span> rgb222
 CConn:       Using ZRLE encoding
 CConn:       Throughput 20020 kbit/s - changing to hextile encoding
 CConn:       Throughput 20020 kbit/s - changing to full colour
 CConn:       Using pixel format depth 24 <span class='o'>(</span>32bpp<span class='o'>)</span> little-endian rgb888
 CConn:       Using hextile encoding
alinux@squeeze:~<span class='nv'>$ </span>
</code></pre>
</div><center>
<a href='http://farm6.static.flickr.com/5086/5276722381_3459374304_b.jpg' target='_new'><img src='http://farm6.static.flickr.com/5086/5276722381_3459374304.jpg' border='0' /></a>
</center>
<p>have a nice dream ;)</p>

<p>Reference: 1. <a href='http://www.linux-kvm.org/page/Main_Page'>http://www.linux-kvm.org/page/Main_Page</a></p>
</div>



<div id="disqus_thread"></div>

<script type="text/javascript" src="http://disqus.com/forums/buildsystem/embed.js">
</script>

<noscript>
    <p> <a href="http://nebansnotebook.disqus.com/?url=ref">View the discussion thread. </a> </p>
</noscript>



<div class="prevnext">
    
        <div class="prev">
            &laquo; <a href="/2010/10/04/Make-usb-installer-OpenBSD-4.8.html"> Make USB installer OpenBSD 4.8 </a>
        </div>
    

    
        <div class="next">
            <a href="/2011/02/16/failover-and-clustering-mirror-node-openldap-2.4-on-centos-5.5-%28part-2%29.html"> Failover and Clustering Mirror Node OpenLdap 2.4 on Centos 5.5 (part 2) </a> &raquo;
        </div>
    
</div>




            </div>
            
<div class="footer">
   <center>
	<small>alinux.web.id, established since 2007, hosted by <a target="_new" href="http://tor.hu">tor.hu</a>, powered by <a target="_new" href="http://www.vim.org">vim</a> and <a target="_new" href="http://jekyllrb.com">jekyll</a><br/>
<a target="_new" href="https://github.com/deanet/alinux-documentation">source</a>
</small>
	</center>
</div>

            <div class="pageend"></div>
        </div>
    </div>
</body>
</html>

